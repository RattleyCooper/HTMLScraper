# HTMLScraper

An API for taking json sitemaps generated by the `webscraper.io` extension, and emulating webscraper.io's scraping behavior.

This is great for creating scraping templates in no time at all.

Installation : `composer require wykleph/html-scraper`

To use, require this project with composer, then download [http://webscraper.io/](the webscraper.io extension for chrome).  
This is what we will use to generate our sitemap for crawling the html.

Once you have the `webscraper.io` extension, you will probably want to learn how to use the `webscraper.io` extension.  Once you have some
selectors set up for your sitemap, click on `Sitemap (sitemap-name)`->`Export Sitemap`.  The json output is what we will use
to instantiate a `SiteMap` object:

```php
$SiteMap = new SiteMap($json);
```

The next step is to instantiate a `HtmlScraper` object to consume the `SiteMap` and the HTML you would like to crawl:

```php
$scraper = new HtmlScraper($SiteMap, $html);
$selections = $scraper->getSelections();
```

or:

```php
$selections = new HtmlScraper($SiteMap, $html)->getSelections();
```

The `$selections` array now contains all of the selections for the `sitemap` that you used for the given `html`.

The `$selections` array should also contain the name of the selector that you set up with `webscraper.io` as the key,
so accessing your selections is as easy as grabbing something like `$selections['username-field-name']` or `$selections['phone']`.
